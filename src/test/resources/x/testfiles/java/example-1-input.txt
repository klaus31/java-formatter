package x.ctrl;

import org.junit.Test;
import x.java.SourceCodeFileFormatter4JavaDefault;

import java.io.IOException;
import java.util.List;

import static org.hamcrest.Matchers.is;
import static org.junit.Assert.assertThat;
import static x.TestFileReadIn.calcPath;
import static x.TestFileReadIn.read;

    @ClassAnnotationA
@WebFault(faultBean = "", messageName = "")
public class A1 {

    @AnnotationA
    @AnnotationB
    @AnnotationC("a1612201340")
    public void a2() throws A3 {
        a4("a5", "a6");
    }

    private void a7(String a8, String a9) throws A10 {
        //given
        String inputFileName = fileNameKey + "-input";
        String expectedOutputFileName = fileNameKey + "-expected-output";
        SourceCodeFile sourceCodeFile = new SourceCodeFile(calcPath(language, inputFileName));
        SourceCodeFileFormatter formatter = new SourceCodeFileFormatter4JavaDefault(sourceCodeFile);

        // when
        List<String> actualOutputLines = formatter.createOutputLines();

        //then
        List<String> expectedOutputLines = read("java", expectedOutputFileName);
        for (int i = 0; i < expectedOutputLines.size(); i++) {
            String debugMessage = expectedOutputFileName + " at line " + (i + 1) + ":\nActual: \"" + actualOutputLines.get(i) + "\"\nShould: \"" + expectedOutputLines.get(i);
            assertThat(debugMessage, actualOutputLines.get(i), is(expectedOutputLines.get(i)));
        }
    }
}